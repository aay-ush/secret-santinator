{% extends "base.html" %}
{% block content %}
<h1>ğŸ„ Secret Santa</h1>

{% if registration_closed %}
  <h2>Registration Closed</h2>
  <p>
    Assignments have been generated and locked{% if assignment_run_at %} (run at {{ assignment_run_at }}){% endif %}.
  </p>

  <h3>How to see your assignment?</h3>
  <ol>
    <li>Click <strong>Login</strong>.</li>
    <li>Enter your <strong>name</strong>.</li>
    <li>This device will use the saved passphrase to log you in automatically.</li>
    <li>If it is a different device, enter passphrase manually; if you don't remember it, request admin reset.</li>
    <li>Then click <strong>My Assignment</strong> to see who you got ğŸ</li>
    <li><strong>Only you can see your assignment unless you share your login ;)</strong></li>
  </ol>

  <p>
    <a href="{{ url_for('auth.login') }}">ğŸ” Login to see my assignment</a>
  </p>

  <h3>If you switched devices or lost the passphrase</h3>
  <ol>
    <li>Go to the <strong>Login</strong> page.</li>
    <li>Enter your name.</li>
    <li>If your device doesnâ€™t have the passphrase saved, click <strong>Request admin reset</strong>.</li>
    <li>Contact the organizer in person for approval.</li>
  </ol>

{% else %}
  <h2>Registration Open!</h2>
  <p>
    Yay, you made it to v2.0!
    Unlike before there is no need to trust <em>you-know-who</em> to not peek at your secret assignment!
    <li>Your passphrase is known only to you and your device.</li>
  </p>

  {#<p>
    <a href="{{ url_for('auth.register') }}">ğŸ†• Register now</a>
    &nbsp; | &nbsp;
    <a href="{{ url_for('auth.login') }}">ğŸ” Login</a>
  </p>
  #}

  <h3>Register (one-time)</h3>
  <ol>
    <li>Click <strong>Register</strong>.</li>
    <li>Enter your <strong>name</strong> (must be unique)</li>
    <li>Your device will show a generated passphrase, note it.</li>
    <li>Click <strong>Use this passphrase & Register</strong>.</li>
  </ol>
    <li>Your passphrase will be stored on the device for easy login later.</li>

  <h3>Important notes</h3>
  <ul>
    <li>Use the <strong>same browser/device</strong> later to log in automatically.</li>
    <li>If you clear browser storage or switch devices, youâ€™ll need to either type passphrase manually or request admin to reset your passphrase. </li?
    <li>Once everyone gets their santee assignments, registration will close. </li>
    <li>Once the organizer locks assignments, <strong>registration closes</strong>.</li>
  </ul>
{% endif %}

{#
<hr>
<p style="font-size: 0.95em;">
  Organizer tip: log in as the admin user and click <strong>Run & lock assignments</strong> when everyone has registered.
</p>
#}
{% endblock %}

